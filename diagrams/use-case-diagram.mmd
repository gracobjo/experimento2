graph TB
    %% Actores
    Admin[ðŸ‘¨â€ðŸ’¼ Administrador]
    Lawyer[ðŸ‘¨â€âš–ï¸ Abogado]
    Client[ðŸ‘¤ Cliente]
    System[ðŸ¤– Sistema]

    %% Casos de Uso - GestiÃ³n de Usuarios
    subgraph "GestiÃ³n de Usuarios"
        UC1[ðŸ‘¥ Gestionar Usuarios]
        UC2[ðŸ” Autenticarse]
        UC3[ðŸ”‘ Recuperar ContraseÃ±a]
        UC4[ðŸ‘¤ Ver Perfil]
        UC5[âœï¸ Editar Perfil]
    end

    %% Casos de Uso - GestiÃ³n de Casos
    subgraph "GestiÃ³n de Casos"
        UC6[ðŸ“ Crear Caso]
        UC7[ðŸ“ Editar Caso]
        UC8[ðŸ—‘ï¸ Eliminar Caso]
        UC9[ðŸ“Š Ver Casos]
        UC10[ðŸ” Buscar Casos]
        UC11[ðŸ“ˆ Ver EstadÃ­sticas]
    end

    %% Casos de Uso - FacturaciÃ³n
    subgraph "FacturaciÃ³n"
        UC12[ðŸ“„ Crear Factura]
        UC13[ðŸ–¨ï¸ Generar PDF]
        UC14[ðŸ“ Firmar Factura]
        UC15[ðŸ“¥ Descargar Factura]
        UC16[ðŸ—‘ï¸ Eliminar Factura]
        UC17[ðŸ“Š Ver Facturas]
        UC18[ðŸ” Buscar Facturas]
    end

    %% Casos de Uso - Citas
    subgraph "GestiÃ³n de Citas"
        UC19[ðŸ“… Crear Cita]
        UC20[âœï¸ Editar Cita]
        UC21[âŒ Cancelar Cita]
        UC22[âœ… Confirmar Cita]
        UC23[ðŸ“‹ Ver Citas]
    end

    %% Casos de Uso - Chatbot
    subgraph "Asistente Virtual"
        UC24[ðŸ’¬ Chatear con Bot]
        UC25[â“ Hacer Preguntas]
        UC26[ðŸ“‹ Solicitar InformaciÃ³n]
        UC27[ðŸ“… Agendar Cita]
        UC28[ðŸ’° Consultar Honorarios]
    end

    %% Casos de Uso - ConfiguraciÃ³n
    subgraph "ConfiguraciÃ³n"
        UC29[âš™ï¸ Gestionar ParÃ¡metros]
        UC30[ðŸŽ¨ Configurar Layout]
        UC31[ðŸ“§ Configurar Email]
        UC32[ðŸ”§ Configurar Sistema]
    end

    %% Casos de Uso - Reportes
    subgraph "Reportes"
        UC33[ðŸ“Š Generar Reportes]
        UC34[ðŸ“ˆ Ver EstadÃ­sticas]
        UC35[ðŸ“‹ Exportar Datos]
        UC36[ðŸ“… Ver Actividad]
    end

    %% Relaciones Administrador
    Admin --> UC1
    Admin --> UC29
    Admin --> UC30
    Admin --> UC31
    Admin --> UC32
    Admin --> UC33
    Admin --> UC34
    Admin --> UC35
    Admin --> UC36

    %% Relaciones Abogado
    Lawyer --> UC2
    Lawyer --> UC4
    Lawyer --> UC5
    Lawyer --> UC6
    Lawyer --> UC7
    Lawyer --> UC8
    Lawyer --> UC9
    Lawyer --> UC10
    Lawyer --> UC11
    Lawyer --> UC12
    Lawyer --> UC13
    Lawyer --> UC14
    Lawyer --> UC15
    Lawyer --> UC16
    Lawyer --> UC17
    Lawyer --> UC18
    Lawyer --> UC19
    Lawyer --> UC20
    Lawyer --> UC21
    Lawyer --> UC22
    Lawyer --> UC23
    Lawyer --> UC24
    Lawyer --> UC25
    Lawyer --> UC26
    Lawyer --> UC27
    Lawyer --> UC28
    Lawyer --> UC33
    Lawyer --> UC34
    Lawyer --> UC35
    Lawyer --> UC36

    %% Relaciones Cliente
    Client --> UC2
    Client --> UC4
    Client --> UC5
    Client --> UC9
    Client --> UC17
    Client --> UC19
    Client --> UC20
    Client --> UC21
    Client --> UC22
    Client --> UC23
    Client --> UC24
    Client --> UC25
    Client --> UC26
    Client --> UC27
    Client --> UC28

    %% Relaciones Sistema
    System --> UC3
    System --> UC13
    System --> UC14
    System --> UC24
    System --> UC25
    System --> UC26
    System --> UC27
    System --> UC28

    %% Estilos
    classDef actor fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef useCase fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef system fill:#e8f5e8,stroke:#388e3c,stroke-width:2px

    class Admin,Lawyer,Client actor
    class UC1,UC2,UC3,UC4,UC5,UC6,UC7,UC8,UC9,UC10,UC11,UC12,UC13,UC14,UC15,UC16,UC17,UC18,UC19,UC20,UC21,UC22,UC23,UC24,UC25,UC26,UC27,UC28,UC29,UC30,UC31,UC32,UC33,UC34,UC35,UC36 useCase
    class System system 